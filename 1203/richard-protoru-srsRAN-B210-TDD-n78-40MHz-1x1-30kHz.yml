log:
  filename: /tmp/ru_emu.log
  level: warning

ru_emu:
    cells:
    - bandwidth: 40                           # Bandwidth of the cell
      network_interface: enp59s0f0np0               # Use BDF instead of interface name for DPDK
      ru_mac_addr: 40:a6:b7:92:c4:74          # MAC address of the RU
      du_mac_addr: 40:a6:b7:92:c4:75          # MAC address of the DU
      enable_promiscuous: true                # Promiscuous mode flag
      vlan_tag: 5                             # VLAN tag
      dl_port_id: [0]                         # Port IDs for downlink
      ul_port_id: [0]                         # Port IDs for uplink
      prach_port_id: [4]                      # Port IDs for PRACH
      compr_method_dl: none                   # Compression method for uplink
      compr_bitwidth_dl: 16                   # Compression bitwidth for uplink
      compr_method_ul: none                   # Compression method for downlink
      compr_bitwidth_ul: 16                   # Compression bitwidth for downlink
      enable_ul_static_compr_hdr: true        # Enable static compression header for uplink
      enable_dl_static_compr_hdr: true        # Enable static compression header for downlink
      iq_scaling: 1.0                         # IQ data scaling factor (for UPLINK)
      t2a_max_cp_dl: 2935                     # T2a maximum value for downlink Control-Plane
      t2a_min_cp_dl: 2221                     # T2a minimum value for downlink Control-Plane
      t2a_max_cp_ul: 2935                     # T2a maximum value for uplink Control-Plane
      t2a_min_cp_ul: 2221                     # T2a minimum value for uplink Control-Plane
      t2a_max_up: 2754                        # T2a maximum value for User-Plane
      t2a_min_up: 2015                        # T2a minimum value for User-Plane
      # ta3_max_up: 1280                        # Ta3 maximum value for uplink User-Plane       
      # ta3_min_up: 925                         # Ta3 minimum value for uplink User-Plane
      ta3_max_up: 1880                         # Ta3 maximum value for uplink User-Plane       
      ta3_min_up: 1125                         # Ta3 minimum value for uplink User-Plane
      max_proc_delay : 3                      # Maximum downlink processing delay in slots
      dl_arfcn: 641280 #628032
      common_scs: 30                          # Common subcarrier spacing   
      band: 78
      nof_antennas_dl: 1                      # Downlink number of antennas.
      nof_antennas_ul: 1                      # Uplink number of anntennas.
        #dpdk:
        #eal_args: "--lcores (0-1)@(0-31) -b 0000:31:00.2"
radio:
  srate: 46.08
  device_driver: uhd
  device_args: type=b200,num_recv_frames=64,num_send_frames=64
  otw_format: sc12
  tx_gain: 89.75
  rx_gain: 65
  amplitude_control:
    tx_gain_backoff: 12                     # Optional FLOAT (12.0). Sets baseband gain back-off in dB. This accounts for the signal PAPR and is applied regardless of clipping settings. Format: positive float.
    enable_clipping: true                   # Optional BOOLEAN (false). Sets clipping of the baseband samples on or off. If enabled, samples that exceed the power ceiling are clipped.
    ceiling: -0.1   

# the following is an example used on a 4-core 8-thread CPU
expert_execution:
  cell_affinities:                      
     -                           
       ru_cpus:        16,18,20,22                   # cpu for RU processing (i.e., low PHY/ UHD)
       ofh_rx_cpus:    24                   # cpu for downlink OFH
       timing_cpus:    26,28                   # cpu for uplink OFH
  affinities:
     isolated_cpus:      16,18,20,22,24,26,28
     low_priority_cpus:  30
  
  threads:
    lower_phy:
      execution_profile: quad          # either 'single' or 'quad'

